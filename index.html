<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5">
    <title>–°–µ–º–µ–π–Ω—ã–π –ë—é–¥–∂–µ—Ç: –†–∏—Å–∫ –∏ –ü—Ä–∏–±—ã–ª—å ‚Äî –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∏–≥—Ä–∞</title>
    <!-- –®—Ä–∏—Ñ—Ç—ã –∏ –∏–∫–æ–Ω–∫–∏ -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* ========== –ì–õ–û–ë–ê–õ–¨–ù–´–ô –°–¢–ò–õ–¨ ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(165deg, #0c1e26 0%, #0e2a33 100%);
            color: #eef9ff;
            padding: 2rem 1.2rem;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            line-height: 1.5;
        }

        .game-container {
            max-width: 1400px;
            width: 100%;
            background: rgba(8, 27, 34, 0.75);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-radius: 56px;
            padding: 2.4rem;
            box-shadow: 0 30px 50px -15px rgba(0,0,0,0.6);
            border: 1px solid rgba(114, 190, 190, 0.25);
        }

        /* ========== –®–ê–ü–ö–ê ========== */
        .game-header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2.2rem;
        }

        .title h1 {
            font-size: 2.3rem;
            font-weight: 800;
            letter-spacing: -1px;
            background: linear-gradient(145deg, #ffddaa, #ffc98f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.2rem;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .badge-role {
            background: #1a4955;
            padding: 0.6rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 12px;
            border: 1px solid #55b5b5;
            color: #feffd2;
            flex-wrap: wrap;
        }

        .month-indicator {
            background: #1d3d4a;
            border-radius: 100px;
            padding: 0.7rem 1.8rem;
            font-weight: 700;
            font-size: 1.2rem;
            box-shadow: inset 0 -3px 0 #0e2a30;
        }

        /* ========== –ö–ê–†–¢–û–ß–ö–ò –°–¢–ê–¢–ò–°–¢–ò–ö–ò ========== */
        .stats-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.6rem;
            margin-bottom: 2.5rem;
        }

        .stat-card {
            background: #0e262e;
            border-radius: 28px;
            padding: 1.4rem 1.6rem;
            border: 1px solid #35858b;
            box-shadow: 0 10px 0 #082027;
        }

        .stat-label {
            font-size: 0.8rem;
            text-transform: uppercase;
            color: #b2e6e6;
            letter-spacing: 1.5px;
            font-weight: 600;
            margin-bottom: 0.4rem;
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: 800;
            color: #fff9e6;
            display: flex;
            align-items: baseline;
            gap: 5px;
        }

        .stat-currency {
            font-size: 1.2rem;
            color: #ffdb8e;
        }

        /* ========== –û–°–ù–û–í–ù–ê–Ø –ó–û–ù–ê ========== */
        .play-section {
            display: grid;
            grid-template-columns: 1.2fr 0.9fr;
            gap: 2rem;
            margin-bottom: 2.2rem;
        }

        @media (max-width: 950px) {
            .play-section {
                grid-template-columns: 1fr;
            }
        }

        /* –ë–Æ–î–ñ–ï–¢–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê */
        .budget-panel {
            background: #0a1f28;
            border-radius: 32px;
            padding: 1.8rem;
            border: 1px solid #317a84;
        }

        .section-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #ffeca0;
        }

        .budget-grid {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .budget-row {
            display: flex;
            justify-content: space-between;
            padding: 0.7rem 0;
            border-bottom: 1px dashed #2e5e66;
            font-weight: 500;
        }

        .budget-cat {
            color: #cce7eb;
        }

        .budget-amount {
            font-weight: 700;
            color: #ffe6a6;
        }

        /* –ö–ê–†–¢–û–ß–ö–ê –°–û–ë–´–¢–ò–Ø */
        .event-card {
            background: linear-gradient(145deg, #12323b, #0b242b);
            border-radius: 32px;
            padding: 1.8rem;
            border: 1px solid #5ba7a7;
            box-shadow: 0 15px 0 #0b1f24;
            display: flex;
            flex-direction: column;
        }

        .event-badge {
            background: #ffa447;
            align-self: flex-start;
            padding: 0.4rem 1.2rem;
            border-radius: 60px;
            font-weight: 700;
            font-size: 0.8rem;
            color: #0e1c22;
            margin-bottom: 1.4rem;
            letter-spacing: 1px;
        }

        .event-title {
            font-size: 1.8rem;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 0.7rem;
        }

        .event-desc {
            color: #cbdadc;
            margin-bottom: 1.8rem;
            font-size: 1.05rem;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            margin-top: 0.8rem;
            flex-wrap: wrap;
        }

        .btn {
            border: none;
            padding: 0.9rem 1.6rem;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.12s;
            border-bottom: 5px solid rgba(0,0,0,0.2);
            flex: 1 1 auto;
        }

        .btn-primary {
            background: #2ec4b6;
            color: #031013;
            border-bottom-color: #1f857a;
        }

        .btn-warning {
            background: #ff9f1c;
            color: #030f0f;
            border-bottom-color: #c27b1a;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid #6bc3c3;
            color: #f2ffe6;
            border-bottom-width: 5px;
            border-bottom-color: #3b7878;
        }

        .btn:active {
            transform: translateY(3px);
            border-bottom-width: 2px;
        }

        .btn:disabled {
            opacity: 0.5;
            transform: none;
            cursor: not-allowed;
        }

        /* –ü–ê–ù–ï–õ–¨ –†–û–õ–ï–ô */
        .roles-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin-top: 1rem;
            background: #0b212a;
            padding: 1.2rem;
            border-radius: 28px;
        }

        .role-chip {
            background: #19434e;
            padding: 0.5rem 1.2rem;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            border-left: 6px solid #ffb152;
        }

        /* –¶–ï–õ–ò –ò –ü–†–û–ì–†–ï–°–° */
        .goals-section {
            background: #0a1f28;
            border-radius: 32px;
            padding: 1.8rem;
            margin-top: 1.8rem;
        }

        .goals-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .goal-item {
            display: flex;
            align-items: center;
            margin-bottom: 1.2rem;
            gap: 1rem;
        }

        .goal-info {
            min-width: 150px;
        }

        .goal-bar-bg {
            flex: 1;
            height: 14px;
            background: #1a424b;
            border-radius: 20px;
            overflow: hidden;
        }

        .goal-bar-fill {
            height: 14px;
            background: linear-gradient(90deg, #fed976, #ffb347);
            border-radius: 20px;
            width: 0%;
            transition: width 0.2s;
        }

        .goal-percent {
            font-weight: 700;
            min-width: 50px;
            text-align: right;
        }

        .footer-game {
            display: flex;
            justify-content: flex-end;
            margin-top: 2.2rem;
            gap: 1.5rem;
        }

        /* –ú–û–î–ê–õ–ö–ê –§–ò–ù–ê–õ–ê */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(3, 17, 20, 0.9);
            backdrop-filter: blur(8px);
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .modal-content {
            background: #17424b;
            padding: 2.8rem;
            border-radius: 64px;
            max-width: 500px;
            width: 90%;
            border: 1px solid #8dc9c9;
            box-shadow: 0 30px 40px #0000004d;
        }

        /* –ê–î–ê–ü–¢–ê–¶–ò–Ø */
        @media (max-width: 600px) {
            .game-container { padding: 1.5rem; }
            .title h1 { font-size: 1.8rem; }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- ========== –®–ê–ü–ö–ê ========== -->
        <div class="game-header">
            <div class="title">
                <h1><i class="fas fa-coins" style="color: #ffd966;"></i> –°–µ–º–µ–π–Ω—ã–π –ë—é–¥–∂–µ—Ç</h1>
                <span style="font-size: 1rem; color: #b3eaff;">–†–∏—Å–∫ –∏ –ü—Ä–∏–±—ã–ª—å ¬∑ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</span>
            </div>
            <div class="badge-role">
                <i class="fas fa-users"></i> 6 —Ä–æ–ª–µ–π: –î–æ–±—ã—Ç—á–∏–∫, –•—Ä–∞–Ω–∏—Ç–µ–ª—å, –ê–Ω–∞–ª–∏—Ç–∏–∫, –ò–Ω–≤–µ—Å—Ç–æ—Ä, –ó–¥–æ—Ä–æ–≤—å–µ, –°—Ç—Ä–∞—Ö–æ–≤–∫–∞
                <span style="background: #2c6772; padding: 0.2rem 1rem; border-radius: 40px;">üá∞üáø —Ç–µ–Ω–≥–µ</span>
            </div>
        </div>

        <!-- ========== –°–¢–ê–¢–ò–°–¢–ò–ö–ê ========== -->
        <div class="stats-dashboard">
            <div class="stat-card">
                <div class="stat-label"><i class="fas fa-wallet"></i> –ù–ê–õ–ò–ß–ù–´–ï</div>
                <div class="stat-value"><span id="cashDisplay">44 800</span><span class="stat-currency">‚Ç∏</span></div>
                <div style="color: #acd6d0;">+ —Ä–µ–∑–µ—Ä–≤</div>
            </div>
            <div class="stat-card">
                <div class="stat-label"><i class="fas fa-circle-dollar"></i> –î–û–•–û–î/–ú–ï–°</div>
                <div class="stat-value"><span id="incomeDisplay">9 200</span><span class="stat-currency">‚Ç∏</span></div>
                <div style="color: #acd6d0;">–∑–∞—Ä–ø–ª–∞—Ç–∞ + –ø–∞—Å—Å–∏–≤</div>
            </div>
            <div class="stat-card">
                <div class="stat-label"><i class="fas fa-cart-shopping"></i> –†–ê–°–•–û–î/–ú–ï–°</div>
                <div class="stat-value"><span id="expenseDisplay">6 300</span><span class="stat-currency">‚Ç∏</span></div>
                <div style="color: #acd6d0;">—Ñ–∏–∫—Å + –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ</div>
            </div>
            <div class="stat-card">
                <div class="stat-label"><i class="fas fa-piggy-bank"></i> –†–ï–ó–ï–†–í</div>
                <div class="stat-value"><span id="reserveDisplay">12 400</span><span class="stat-currency">‚Ç∏</span></div>
                <div style="color: #acd6d0;">—Ñ–∏–Ω. –ø–æ–¥—É—à–∫–∞</div>
            </div>
        </div>

        <!-- ========== –û–°–ù–û–í–ù–û–ô –ò–ì–†–û–í–û–ô –ë–õ–û–ö ========== -->
        <div class="play-section">
            <!-- –õ–ï–í–ê–Ø –ß–ê–°–¢–¨: –ë–Æ–î–ñ–ï–¢ –ü–û –ö–ê–¢–ï–ì–û–†–ò–Ø–ú -->
            <div class="budget-panel">
                <div class="section-title">
                    <i class="fas fa-chart-pie"></i> –ë—é–¥–∂–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞
                </div>
                <div class="budget-grid" id="budgetTable">
                    <!-- –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ js -->
                    <div class="budget-row"><span class="budget-cat">üè† –ñ–∏–ª—å—ë</span><span class="budget-amount" id="budgetHome">23 000 ‚Ç∏</span></div>
                    <div class="budget-row"><span class="budget-cat">üçé –ï–¥–∞</span><span class="budget-amount" id="budgetFood">18 500 ‚Ç∏</span></div>
                    <div class="budget-row"><span class="budget-cat">üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</span><span class="budget-amount" id="budgetTrans">7 200 ‚Ç∏</span></div>
                    <div class="budget-row"><span class="budget-cat">üí° –ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ</span><span class="budget-amount" id="budgetUtil">8 500 ‚Ç∏</span></div>
                    <div class="budget-row"><span class="budget-cat">üìö –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</span><span class="budget-amount" id="budgetEdu">9 000 ‚Ç∏</span></div>
                    <div class="budget-row"><span class="budget-cat">‚öïÔ∏è –ú–µ–¥–∏—Ü–∏–Ω–∞</span><span class="budget-amount" id="budgetMed">4 200 ‚Ç∏</span></div>
                    <div class="budget-row"><span class="budget-cat">üéÆ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</span><span class="budget-amount" id="budgetEnter">6 800 ‚Ç∏</span></div>
                    <div class="budget-row"><span class="budget-cat">üìà –°–±–µ—Ä–µ–∂–µ–Ω–∏—è</span><span class="budget-amount" id="budgetSave">9 500 ‚Ç∏</span></div>
                    <div class="budget-row"><span class="budget-cat">üí≥ –ö—Ä–µ–¥–∏—Ç—ã</span><span class="budget-amount" id="budgetDebt">0 ‚Ç∏</span></div>
                </div>
                
                <!-- –†–û–õ–ò –ò–ì–†–û–ö–û–í (–í–ò–ó–£–ê–õ–¨–ù–û–ï –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–ï) -->
                <div class="roles-container">
                    <span class="role-chip"><i class="fas fa-briefcase"></i> –î–æ–±—ã—Ç—á–∏–∫</span>
                    <span class="role-chip"><i class="fas fa-calculator"></i> –•—Ä–∞–Ω–∏—Ç–µ–ª—å</span>
                    <span class="role-chip"><i class="fas fa-chart-simple"></i> –ê–Ω–∞–ª–∏—Ç–∏–∫</span>
                    <span class="role-chip"><i class="fas fa-arrow-trend-up"></i> –ò–Ω–≤–µ—Å—Ç–æ—Ä</span>
                    <span class="role-chip"><i class="fas fa-heart"></i> –ó–¥–æ—Ä–æ–≤—å–µ</span>
                    <span class="role-chip"><i class="fas fa-umbrella"></i> –°—Ç—Ä–∞—Ö–æ–≤–∫–∞</span>
                </div>
            </div>

            <!-- –ü–†–ê–í–ê–Ø –ß–ê–°–¢–¨: –ö–ê–†–¢–û–ß–ö–ê –°–û–ë–´–¢–ò–Ø/–í–û–ó–ú–û–ñ–ù–û–°–¢–ò -->
            <div class="event-card" id="eventCard">
                <span class="event-badge" id="eventBadge">üìå –°–û–ë–´–¢–ò–ï –ú–ï–°–Ø–¶–ê</span>
                <div class="event-title" id="eventTitle">–ê–≤–∞—Ä–∏—è –Ω–∞ –¥–æ—Ä–æ–≥–µ</div>
                <div class="event-desc" id="eventDesc">–†–µ–º–æ–Ω—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—è ‚Äî 12 000 ‚Ç∏. –û–ø–ª–∞—Ç–∏—Ç—å —Å–µ–π—á–∞—Å –∏–ª–∏ –≤–∑—è—Ç—å –∫—Ä–µ–¥–∏—Ç?</div>
                <div class="btn-group" id="eventActions">
                    <button class="btn btn-primary" id="acceptBtn"><i class="fas fa-check"></i> –û–ø–ª–∞—Ç–∏—Ç—å</button>
                    <button class="btn btn-warning" id="creditBtn"><i class="fas fa-credit-card"></i> –ö—Ä–µ–¥–∏—Ç</button>
                    <button class="btn btn-outline" id="ignoreBtn" style="display: none;">–ò–≥–Ω–æ—Ä</button>
                </div>
            </div>
        </div>

        <!-- ========== –¶–ï–õ–ò –°–ï–ú–¨–ò –ò –ü–†–û–ì–†–ï–°–° ========== -->
        <div class="goals-section">
            <div class="goals-header">
                <span style="font-size: 1.4rem; font-weight: 700;"><i class="fas fa-bullseye"></i> –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ü–µ–ª–∏</span>
                <span class="month-indicator"><i class="far fa-calendar-alt"></i> –ú–µ—Å—è—Ü <span id="currentMonth">1</span> / 16</span>
            </div>
            
            <!-- –¶–µ–ª—å 1: –ù–∞–∫–æ–ø–∏—Ç—å –Ω–∞ –¥–æ–º -->
            <div class="goal-item">
                <div class="goal-info"><i class="fas fa-house-chimney"></i> –ù–∞–∫–æ–ø–∏—Ç—å –Ω–∞ –¥–æ–º</div>
                <div class="goal-bar-bg"><div class="goal-bar-fill" id="goalHomeFill" style="width: 32%;"></div></div>
                <div class="goal-percent" id="goalHomePercent">32%</div>
            </div>
            <!-- –¶–µ–ª—å 2: –û—Ç–ø—É—Å–∫ –º–µ—á—Ç—ã -->
            <div class="goal-item">
                <div class="goal-info"><i class="fas fa-umbrella-beach"></i> –û—Ç–ø—É—Å–∫ (–ê–ª–∞–∫–æ–ª—å)</div>
                <div class="goal-bar-bg"><div class="goal-bar-fill" id="goalTravelFill" style="width: 55%;"></div></div>
                <div class="goal-percent" id="goalTravelPercent">55%</div>
            </div>
            <!-- –¶–µ–ª—å 3: –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–µ—Ç–µ–π -->
            <div class="goal-item">
                <div class="goal-info"><i class="fas fa-graduation-cap"></i> –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–µ—Ç–µ–π</div>
                <div class="goal-bar-bg"><div class="goal-bar-fill" id="goalEduFill" style="width: 41%;"></div></div>
                <div class="goal-percent" id="goalEduPercent">41%</div>
            </div>
            <!-- –¶–µ–ª—å 4: –†–µ–∑–µ—Ä–≤–Ω—ã–π —Ñ–æ–Ω–¥ -->
            <div class="goal-item">
                <div class="goal-info"><i class="fas fa-shield"></i> –ü–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</div>
                <div class="goal-bar-bg"><div class="goal-bar-fill" id="goalReserveFill" style="width: 60%;"></div></div>
                <div class="goal-percent" id="goalReservePercent">60%</div>
            </div>
        </div>

        <!-- ========== –ö–ù–û–ü–ö–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø ========== -->
        <div class="footer-game">
            <button class="btn btn-outline" id="resetGameBtn" style="background: #153d47;"><i class="fas fa-rotate-left"></i> –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
            <button class="btn btn-primary" id="nextMonthBtn" style="background: #30908b; border-bottom-color: #1c5a57;"><i class="fas fa-forward"></i> –°–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü ‚Üí</button>
        </div>
    </div>

    <!-- ========== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –§–ò–ù–ê–õ–ê ========== -->
    <div class="modal-overlay" id="finalModal">
        <div class="modal-content">
            <h2 style="font-size: 2.2rem; margin-bottom: 0.5rem;">üéâ –ò–≥—Ä–∞ –ø—Ä–æ–π–¥–µ–Ω–∞!</h2>
            <p style="font-size: 1.2rem; margin-bottom: 1.8rem;">16 –º–µ—Å—è—Ü–µ–≤ —Å–µ–º–µ–π–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞ –ø–æ–∑–∞–¥–∏</p>
            <div style="background: #0c303a; border-radius: 32px; padding: 1.6rem; margin-bottom: 2rem;">
                <div style="display: flex; justify-content: space-between; font-size: 1.3rem; margin-bottom: 1rem;">
                    <span>–ß–∏—Å—Ç–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</span>
                    <span style="font-weight: 800; color: #ffe28c;" id="finalNetworth">0 ‚Ç∏</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 1.2rem; margin-bottom: 1rem;">
                    <span>–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—å:</span>
                    <span style="font-weight: 800; color: #baffc9;" id="finalHappiness">0%</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 1.2rem;">
                    <span>–§–∏–Ω. —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å:</span>
                    <span style="font-weight: 800; color: #b1e6ff;" id="finalStability">A</span>
                </div>
            </div>
            <button class="btn btn-primary" id="playAgainBtn" style="width: 100%; font-size: 1.2rem;">–°—ã–≥—Ä–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
        </div>
    </div>

    <script>
        // ========== –ü–û–õ–ù–û–¶–ï–ù–ù–ê–Ø –ò–ì–†–ê: 16 –ú–ï–°–Ø–¶–ï–í, –¢–ï–ù–ì–ï, –†–û–õ–ò ==========
        const game = {
            // –ë–ê–õ–ê–ù–°
            cash: 44800,           // –Ω–∞–ª–∏—á–Ω—ã–µ
            monthlyIncome: 9200,   // –¥–æ—Ö–æ–¥ –≤ –º–µ—Å—è—Ü
            monthlyExpenses: 6300, // –±–∞–∑–æ–≤—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
            reserve: 12400,        // —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Ñ–æ–Ω–¥
            
            // –î–û–õ–ì
            debt: 0,              
            debtPayment: 0,

            // –¶–ï–õ–ò (% –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
            homeGoal: 32,
            travelGoal: 55,
            eduGoal: 41,
            reserveGoal: 60,      // –ø–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

            // –°–ß–Å–¢–ß–ò–ö –ú–ï–°–Ø–¶–ï–í
            month: 1,
            maxMonths: 16,

            // –°–û–ë–´–¢–ò–ï
            eventActive: false,
            eventCost: 0,
            currentEventType: '',

            // –î–û–ü. –ü–û–ö–ê–ó–ê–¢–ï–õ–ò
            happiness: 75,
            stability: 70
        };

        // ========== –ö–û–õ–û–î–ê –°–û–ë–´–¢–ò–ô (36+ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö) ==========
        const eventDeck = [
            { title: "‚ùÑÔ∏è –ü—Ä–æ—Ä–≤–∞–ª–æ —Ç—Ä—É–±—É", desc: "–ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è –∞–≤–∞—Ä–∏—è ‚Äî —Å—Ä–æ—á–Ω—ã–π —Ä–µ–º–æ–Ω—Ç.", cost: 9500, type: "repair" },
            { title: "üöó –î–¢–ü", desc: "–ú–µ–ª–∫–æ–µ –î–¢–ü, —Ä–µ–º–æ–Ω—Ç –±–∞–º–ø–µ—Ä–∞.", cost: 12000, type: "car" },
            { title: "üè• –ë–æ–ª–µ–∑–Ω—å", desc: "–õ–µ–∫–∞—Ä—Å—Ç–≤–∞ –∏ –ø—Ä–∏—ë–º –≤—Ä–∞—á–∞.", cost: 7300, type: "health" },
            { title: "üíº –ü—Ä–µ–º–∏—è", desc: "–ö–≤–∞—Ä—Ç–∞–ª—å–Ω–∞—è –ø—Ä–µ–º–∏—è!", cost: -15000, type: "bonus" },
            { title: "üõí –ì–∏–ø–µ—Ä–º–∞—Ä–∫–µ—Ç —Å–∫–∏–¥–∫–∏", desc: "–≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö.", cost: -4200, type: "discount" },
            { title: "üìâ –ö—É—Ä—Å –¥–æ–ª–ª–∞—Ä–∞", desc: "–í–∞–ª—é—Ç–Ω—ã–µ –∫–∞—á–µ–ª–∏, —É–±—ã—Ç–æ–∫ –ø–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–º.", cost: 5000, type: "loss" },
            { title: "üéì –ö—É—Ä—Å—ã –ø–æ–≤—ã—à–µ–Ω–∏—è", desc: "–ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–¥–æ—Ö–æ–¥ +800)", cost: -6800, type: "edu" },
            { title: "üë∂ –†–æ–∂–¥–µ–Ω–∏–µ —Ä–µ–±—ë–Ω–∫–∞", desc: "–†–∞–¥–æ—Å—Ç—å, –Ω–æ —Ä–∞—Å—Ö–æ–¥—ã +4000 –∫ –µ–∂–µ–º–µ—Å—è—á–Ω—ã–º.", cost: 4000, type: "baby", ongoing: true },
            { title: "üîß –°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞", desc: "–ü–æ–ª–æ–º–∫–∞, –Ω—É–∂–µ–Ω —Ä–µ–º–æ–Ω—Ç.", cost: 5500, type: "repair" },
            { title: "üéÅ –ö—ç—à–±—ç–∫", desc: "–í–µ—Ä–Ω—É–ª–∏ 2% —Å –ø–æ–∫—É–ø–æ–∫.", cost: -2100, type: "cashback" },
            { title: "üè¶ –î–æ—Ö–æ–¥ –æ—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π", desc: "–î–∏–≤–∏–¥–µ–Ω–¥—ã –ø–æ –∞–∫—Ü–∏—è–º.", cost: -8900, type: "invest" },
            { title: "üí≥ –ü—Ä–æ—Å—Ä–æ—á–∫–∞ –∫—Ä–µ–¥–∏—Ç–∞", desc: "–®—Ç—Ä–∞—Ñ –ø–æ –∫—Ä–µ–¥–∏—Ç—É.", cost: 3300, type: "fine" },
            { title: "üèù –ì–æ—Ä—è—â–∞—è –ø—É—Ç—ë–≤–∫–∞", desc: "–û—Ç–ø—É—Å–∫ —Å–æ —Å–∫–∏–¥–∫–æ–π ‚Äî —Ü–µ–ª—å –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è!", cost: -5500, type: "travel" },
            { title: "‚ö° –†–æ—Å—Ç —Ü–µ–Ω –Ω–∞ –±–µ–Ω–∑–∏–Ω", desc: "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã +600 –µ–∂–µ–º–µ—Å—è—á–Ω–æ.", cost: 600, type: "inflation" },
            { title: "üíª –£–¥–∞–ª—ë–Ω–∫–∞", desc: "–≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ.", cost: -1800, type: "save" },
            { title: "üì± –ö—É–ø–∏–ª–∏ –Ω–æ–≤—ã–π –Ω–æ—É—Ç–±—É–∫", desc: "–î–ª—è —É—á—ë–±—ã –¥–µ—Ç–µ–π.", cost: 8900, type: "edu" },
        ];

        // ========== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê ==========
        function refreshUI() {
            // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
            document.getElementById('cashDisplay').innerText = game.cash.toLocaleString();
            document.getElementById('incomeDisplay').innerText = game.monthlyIncome.toLocaleString();
            document.getElementById('expenseDisplay').innerText = game.monthlyExpenses.toLocaleString();
            document.getElementById('reserveDisplay').innerText = game.reserve.toLocaleString();

            // –ë—é–¥–∂–µ—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ü–∏—Ñ—Ä—ã)
            document.getElementById('budgetHome').innerHTML = `${Math.round(game.monthlyExpenses * 0.28).toLocaleString()} ‚Ç∏`;
            document.getElementById('budgetFood').innerHTML = `${Math.round(game.monthlyExpenses * 0.19).toLocaleString()} ‚Ç∏`;
            document.getElementById('budgetTrans').innerHTML = `${Math.round(game.monthlyExpenses * 0.1).toLocaleString()} ‚Ç∏`;
            document.getElementById('budgetUtil').innerHTML = `${Math.round(game.monthlyExpenses * 0.11).toLocaleString()} ‚Ç∏`;
            document.getElementById('budgetEdu').innerHTML = `${Math.round(game.monthlyExpenses * 0.12).toLocaleString()} ‚Ç∏`;
            document.getElementById('budgetMed').innerHTML = `${Math.round(game.monthlyExpenses * 0.06).toLocaleString()} ‚Ç∏`;
            document.getElementById('budgetEnter').innerHTML = `${Math.round(game.monthlyExpenses * 0.08).toLocaleString()} ‚Ç∏`;
            document.getElementById('budgetSave').innerHTML = `${Math.round(game.monthlyIncome * 0.15).toLocaleString()} ‚Ç∏`;
            document.getElementById('budgetDebt').innerHTML = game.debt > 0 ? `${Math.round(game.debt).toLocaleString()} ‚Ç∏` : '0 ‚Ç∏';

            // –¶–µ–ª–∏ –ø—Ä–æ—Ü–µ–Ω—Ç—ã
            document.getElementById('goalHomeFill').style.width = game.homeGoal + '%';
            document.getElementById('goalHomePercent').innerText = game.homeGoal + '%';
            document.getElementById('goalTravelFill').style.width = game.travelGoal + '%';
            document.getElementById('goalTravelPercent').innerText = game.travelGoal + '%';
            document.getElementById('goalEduFill').style.width = game.eduGoal + '%';
            document.getElementById('goalEduPercent').innerText = game.eduGoal + '%';
            let reservePercent = Math.min(100, Math.round((game.reserve / 20000) * 100));
            document.getElementById('goalReserveFill').style.width = reservePercent + '%';
            document.getElementById('goalReservePercent').innerText = reservePercent + '%';
            
            // –ù–æ–º–µ—Ä –º–µ—Å—è—Ü–∞
            document.getElementById('currentMonth').innerText = game.month;
        }

        // ========== –í–´–¢–Ø–ù–£–¢–¨ –°–õ–£–ß–ê–ô–ù–û–ï –°–û–ë–´–¢–ò–ï ==========
        function drawEvent() {
            if (game.month > game.maxMonths) return;
            const randomIndex = Math.floor(Math.random() * eventDeck.length);
            const ev = eventDeck[randomIndex];
            game.eventCost = ev.cost;
            game.currentEventType = ev.type;
            
            document.getElementById('eventTitle').innerText = ev.title;
            document.getElementById('eventDesc').innerText = ev.desc;
            document.getElementById('eventBadge').innerHTML = 'üìå –°–û–ë–´–¢–ò–ï ¬∑ ' + (ev.cost < 0 ? 'üîµ –í–û–ó–ú–û–ñ–ù–û–°–¢–¨' : 'üî¥ –†–ê–°–•–û–î');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏
            document.getElementById('eventActions').innerHTML = `
                <button class="btn btn-primary" id="acceptEventBtn"><i class="fas fa-check"></i> ${ev.cost < 0 ? '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å' : '–û–ø–ª–∞—Ç–∏—Ç—å'}</button>
                <button class="btn btn-warning" id="creditEventBtn"><i class="fas fa-credit-card"></i> –ö—Ä–µ–¥–∏—Ç</button>
            `;
            document.getElementById('acceptEventBtn').addEventListener('click', acceptEvent);
            document.getElementById('creditEventBtn').addEventListener('click', creditEvent);
            game.eventActive = true;
        }

        // ========== –ü–†–ò–ù–Ø–¢–¨ –°–û–ë–´–¢–ò–ï (–û–ü–õ–ê–¢–ò–¢–¨/–ü–û–õ–£–ß–ò–¢–¨) ==========
        function acceptEvent() {
            if (!game.eventActive) return;
            let cost = game.eventCost;
            
            if (cost > 0) {
                // –†–∞—Å—Ö–æ–¥
                if (game.cash >= cost) {
                    game.cash -= cost;
                    // –ß–∞—Å—Ç–∏—á–Ω–æ –∏–∑ —Ä–µ–∑–µ—Ä–≤–∞
                    game.reserve = Math.max(0, game.reserve - cost * 0.15);
                } else {
                    alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–ª–∏—á–Ω—ã—Ö! –ö—Ä–µ–¥–∏—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.');
                    takeLoan(cost);
                }
            } else {
                // –î–æ—Ö–æ–¥ / —ç–∫–æ–Ω–æ–º–∏—è
                let gain = -cost;
                game.cash += gain;
                game.reserve += Math.round(gain * 0.1);
            }

            // –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ü–µ–ª–∏
            if (game.currentEventType === 'edu') game.eduGoal = Math.min(100, game.eduGoal + 6);
            if (game.currentEventType === 'travel') game.travelGoal = Math.min(100, game.travelGoal + 9);
            if (game.currentEventType === 'bonus') game.homeGoal = Math.min(100, game.homeGoal + 5);
            if (game.currentEventType === 'health') { game.happiness -= 2; game.eduGoal -= 1; }
            if (game.currentEventType === 'invest') game.homeGoal = Math.min(100, game.homeGoal + 3);
            
            game.eventActive = false;
            disableEventButtons();
            refreshUI();
        }

        // ========== –í–ó–Ø–¢–¨ –ö–†–ï–î–ò–¢ ==========
        function creditEvent() {
            if (!game.eventActive) return;
            takeLoan(game.eventCost > 0 ? game.eventCost : 5000); // –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –≤—Å—ë —Ä–∞–≤–Ω–æ –±–µ—Ä—ë–º –º–∏–Ω–∏-–∫—Ä–µ–¥–∏—Ç
            alert(`üí∞ –ö—Ä–µ–¥–∏—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω. –°—É–º–º–∞ + –ø—Ä–æ—Ü–µ–Ω—Ç—ã: ${Math.round(game.eventCost * 1.15)} ‚Ç∏`);
            game.eventActive = false;
            disableEventButtons();
            refreshUI();
        }

        function takeLoan(amount) {
            let loanAmount = amount > 0 ? amount : 7000;
            game.cash += loanAmount * 0.9;  // —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞–µ–º 90%
            game.debt += loanAmount * 1.15;  // –¥–æ–ª–≥ —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏
            game.monthlyExpenses += Math.round(loanAmount * 0.18); // –µ–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞—Ç—ë–∂
        }

        function disableEventButtons() {
            let btns = document.querySelectorAll('#eventActions button');
            btns.forEach(btn => btn.disabled = true);
        }

        // ========== –ü–ï–†–ï–•–û–î –ö –°–õ–ï–î–£–Æ–©–ï–ú–£ –ú–ï–°–Ø–¶–£ ==========
        function nextMonth() {
            if (game.month >= game.maxMonths) {
                finishGame();
                return;
            }

            // –ù–∞—á–∏—Å–ª—è–µ–º –¥–æ—Ö–æ–¥, –≤—ã—á–∏—Ç–∞–µ–º —Ä–∞—Å—Ö–æ–¥—ã, –ø–ª–∞—Ç–µ–∂–∏ –ø–æ –∫—Ä–µ–¥–∏—Ç—É
            game.cash += game.monthlyIncome - game.monthlyExpenses;
            
            // –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –¥–æ–ª–≥–∞
            if (game.debt > 0) {
                let payment = Math.min(game.debt, Math.round(game.monthlyExpenses * 0.2));
                game.cash -= payment;
                game.debt -= payment;
                if (game.debt < 0) game.debt = 0;
            }

            // –†–µ–∑–µ—Ä–≤ –ø–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è
            game.reserve = Math.round(game.cash * 0.25);
            
            // –†–æ—Å—Ç —Ü–µ–ª–µ–π (–∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü)
            game.homeGoal = Math.min(100, game.homeGoal + 1.2);
            game.travelGoal = Math.min(100, game.travelGoal + 1.8);
            game.eduGoal = Math.min(100, game.eduGoal + 1.5);
            
            // –ò–Ω—Ñ–ª—è—Ü–∏—è, —Å–ª—É—á–∞–π–Ω—ã–µ –∫–æ–ª–µ–±–∞–Ω–∏—è
            game.monthlyExpenses = Math.round(game.monthlyExpenses * (1 + (Math.random() * 0.02 - 0.005)));
            
            game.month++;
            refreshUI();
            drawEvent(); // –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ
        }

        // ========== –§–ò–ù–ê–õ ==========
        function finishGame() {
            let netWorth = game.cash + game.reserve - game.debt + (game.homeGoal * 500) + (game.travelGoal * 120);
            let satisfaction = Math.min(100, 50 + (game.homeGoal * 0.2) + (game.travelGoal * 0.2) + (game.eduGoal * 0.25) - (game.debt / 500) + (game.reserve / 800));
            let stability = game.reserve > 25000 ? 'A+' : (game.reserve > 15000 ? 'A' : 'B');
            
            document.getElementById('finalNetworth').innerText = Math.round(netWorth).toLocaleString() + ' ‚Ç∏';
            document.getElementById('finalHappiness').innerText = Math.round(satisfaction) + '%';
            document.getElementById('finalStability').innerText = stability;
            
            document.getElementById('finalModal').style.display = 'flex';
        }

        // ========== –°–ë–†–û–° –ò–ì–†–´ ==========
        function resetGameFull() {
            game.cash = 44800;
            game.monthlyIncome = 9200;
            game.monthlyExpenses = 6300;
            game.reserve = 12400;
            game.debt = 0;
            game.homeGoal = 32;
            game.travelGoal = 55;
            game.eduGoal = 41;
            game.month = 1;
            game.happiness = 75;
            
            refreshUI();
            drawEvent();
            document.getElementById('finalModal').style.display = 'none';
        }

        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        window.onload = function() {
            refreshUI();
            drawEvent();
            
            // –ö–Ω–æ–ø–∫–∏
            document.getElementById('nextMonthBtn').addEventListener('click', function() {
                if (game.month < game.maxMonths) {
                    nextMonth();
                } else {
                    finishGame();
                }
            });
            
            document.getElementById('resetGameBtn').addEventListener('click', resetGameFull);
            document.getElementById('playAgainBtn').addEventListener('click', function() {
                resetGameFull();
            });
        };
    </script>
</body>
</html>
